class A_history_encoder():